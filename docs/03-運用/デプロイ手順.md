# デプロイ手順

## GitHub Pages デプロイ

### 前提条件
- GitHubリポジトリが作成済み
- mainブランチにコードがプッシュ済み
- GitHub Pagesが有効化済み

### 1. GitHubリポジトリの設定

#### リポジトリ作成
```bash
# ローカルでGit初期化
cd /Users/seitamo/Documents/ObsidianVault/🚀dev/fc-crm-system
git init
git add .
git commit -m "Initial commit - FC-CRM System基盤実装

✅ Task 1-5完了:
- プロジェクト初期設定
- データベース構築
- バックエンドAPI基盤
- フロントエンド基本画面
- 企業管理機能（CRUD）

🚀 Generated with Claude Code
Co-Authored-By: Claude <noreply@anthropic.com>"

# GitHub連携（GitHub Desktopまたはコマンド）
git remote add origin https://github.com/YOUR_USERNAME/fc-crm-system.git
git push -u origin main
```

#### GitHub Pages設定
1. GitHubリポジトリページで **Settings** タブ
2. 左メニューから **Pages** 選択
3. **Source** を「GitHub Actions」に設定
4. 自動的に `.github/workflows/deploy-pages.yml` が実行される

### 2. 自動デプロイの確認

#### ワークフロー実行
- mainブランチへのプッシュで自動実行
- **Actions** タブで実行状況確認
- 成功すると `https://YOUR_USERNAME.github.io/fc-crm-system/` でアクセス可能

#### デプロイされるファイル
```
GitHub Pages (docs/)
├── index.html              # ダッシュボード
├── companies.html          # 企業管理
├── css/
│   └── style.css          # カスタムCSS
├── js/
│   ├── config.js          # 設定ファイル
│   ├── api.js             # API通信
│   ├── mock-data.js       # モックデータ
│   ├── app.js             # メインアプリ
│   └── companies.js       # 企業管理
└── assets/
    └── images/
```

### 3. 動作確認項目

#### 基本表示確認
- [ ] **ダッシュボード** (`/`)
  - 統計カードの表示
  - ナビゲーションの動作
  - レスポンシブ対応

- [ ] **企業管理** (`/companies.html`)
  - 企業一覧表示（モックデータ）
  - フィルタ・検索機能
  - 新規登録モーダル
  - ページネーション

#### JavaScript機能確認
- [ ] **モックAPI動作**
  - Mock Modeインジケーター表示
  - 企業一覧取得
  - 企業登録・編集・削除
  - バリデーション

- [ ] **UI/UX確認**
  - Bootstrap コンポーネント
  - アイコン表示
  - トースト通知
  - モーダル動作

#### レスポンシブ確認
- [ ] **デスクトップ** (≥1200px)
- [ ] **タブレット** (768px-1199px)
- [ ] **モバイル** (<768px)

### 4. 本番環境（ConoHa WING）デプロイ

#### 事前準備
- ConoHa WINGアカウント
- ドメイン設定
- SSL証明書設定

#### ファイル配置
```bash
# FTP/SFTPで以下を配置
public_html/
├── frontend/              # フロントエンドファイル
│   ├── index.html
│   ├── companies.html
│   ├── css/
│   └── js/
└── backend/               # バックエンドファイル
    ├── api/
    ├── lib/
    ├── config/
    └── .htaccess
```

#### 設定変更
1. **API URL更新**
   ```javascript
   // js/config.js
   BASE_URL: 'https://your-domain.com/api'
   ```

2. **環境変数設定**
   ```bash
   # backend/config/.env
   DB_HOST=localhost
   DB_NAME=your_db_name
   DB_USER=your_db_user
   DB_PASS=your_db_password
   ```

3. **データベース構築**
   ```sql
   -- phpMyAdmin等で実行
   source database/schema.sql
   source database/seed.sql
   ```

### 5. 継続的デプロイ

#### GitHub Actions設定
- プッシュ時の自動デプロイ
- テスト実行
- デプロイ通知

#### ブランチ戦略
```
main          # 本番環境
├── develop   # 開発環境
└── feature/* # 機能開発
```

### 6. トラブルシューティング

#### よくある問題

**🚨 GitHub Actions失敗**
```yaml
# permissions不足の場合
permissions:
  contents: read
  pages: write
  id-token: write
```

**🚨 JavaScript エラー**
- ブラウザコンソールでエラー確認
- CDN接続確認
- ファイルパス確認

**🚨 API接続エラー**
- CORS設定確認
- ネットワーク環境確認
- モックモード動作確認

**🚨 レスポンシブ表示崩れ**
- Bootstrap CDN確認
- カスタムCSS競合確認
- viewport設定確認

### 7. 監視・メンテナンス

#### 定期確認項目
- [ ] GitHub Pages稼働状況
- [ ] CDN（Bootstrap等）の可用性
- [ ] SSL証明書有効期限
- [ ] ログファイルサイズ

#### 更新手順
1. ローカルで開発・テスト
2. GitHubにプッシュ
3. 自動デプロイ実行
4. 本番環境で動作確認

## 検証チェックリスト

### GitHub Pages公開後の確認項目

#### ✅ 基本動作
- [ ] URL正常アクセス
- [ ] 全ページ表示確認
- [ ] ナビゲーション動作
- [ ] Mock Modeインジケーター表示

#### ✅ 企業管理機能
- [ ] 企業一覧表示（5件のサンプルデータ）
- [ ] フィルタ機能（カテゴリ、ステータス）
- [ ] 検索機能（企業名、ドメイン）
- [ ] ページネーション
- [ ] 新規登録モーダル
- [ ] 編集機能
- [ ] 削除機能
- [ ] バリデーション

#### ✅ レスポンシブ対応
- [ ] PC表示（1920x1080）
- [ ] タブレット表示（768x1024）
- [ ] スマートフォン表示（375x667）

#### ✅ ブラウザ対応
- [ ] Chrome
- [ ] Firefox
- [ ] Safari
- [ ] Edge

---

**次のステップ**: 動作確認完了後、Task 6以降の実装に進むか、発見された問題の修正を行う。

## 関連ドキュメント
- [[システム設計書#デプロイメント]]
- [[技術メモ#デプロイ関連]]
- [[トラブルシューティング]]